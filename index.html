<html>
	<head>
		<title>Designing in the Browser Of Course - DITBOC</title>
		<!-- sheetrock css should be deleted laeter on -->
		<!--<link rel="stylesheet" href="http://chriszarate.github.io/sheetrock/css/sheetrock.css">-->

		<link rel="stylesheet" href="css/bootstrap.min.css">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script src="//chriszarate.github.io/sheetrock/dist/jquery.sheetrock.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script><!-- Load Handlebars.js from CloudFlare’s CDN. -->
		<script>

			// Define spreadsheet URL.
			var mySpreadsheet = 'https://docs.google.com/spreadsheets/d/1PBkrL5VNLmtiwI_WLA4yQUkGv1vbT4u1FpptVbiVGX8#gid=655352100';

			// Load top ten switch hitters.
			$('#switch-hitters').sheetrock({
				url: mySpreadsheet,
				sql: "select A,B,C,D,E,F,G  ORDER BY H ASC",
				chunkSize: 10
			});

/*
$.getJSON("https://docs.google.com/spreadsheets/d/1PBkrL5VNLmtiwI_WLA4yQUkGv1vbT4u1FpptVbiVGX8#gid=655352100?alt=json", function(data) {
  //first row "title" column
  console.log(data.feed.entry[0]['gsx$title']['$t']);
});*/




			function getUrlParameter(sParam)
			{
			    var sPageURL = window.location.search.substring(1);
			    var sURLVariables = sPageURL.split('&');
			    for (var i = 0; i < sURLVariables.length; i++) 
			    {
			        var sParameterName = sURLVariables[i].split("=");
			        if (sParameterName[0] == sParam) 
			        {
			            return sParameterName[1];
			        }
			    }
			}
		</script>


	</head>

	<body>
<script>

$.getJSON("https://docs.google.com/spreadsheets/d/1PBkrL5VNLmtiwI_WLA4yQUkGv1vbT4u1FpptVbiVGX8#gid=655352100?alt=json", function(data) {
  //first row "title" column
  console.log(data.feed.entry[0]['gsx$ID']['$t']);
alert("ok");
</script>
		<div id="ditboc_mytest">mytest</div>
		<script> 
		$.get('components/editorial-managed/test.html')
		 .success(function(data) {
		     $('#ditboc_mytest').html(data);
		    // I would like a jQuery method here that changes the id on the outer div based on querystring parameter
			//rename id
			//$('#your_element').attr('id','the_new_id');

			// I would like a jQuery method here that applies classes on the outer div based on querystring parameters
			//remove and add class
			//$('.my_class').removeClass('my_class').addClass('normal_element');
		 });
		 </script>

		<div id="ditboc_mywizard">mywizard</div>
		<script> 
		$.get('components/editorial-managed/wizard.html')
		 .success(function(data) {
		     $('#ditboc_mywizard').html(data);
		 });
		 </script>

		<div id="ditboc_mypanels">mypanels</div>
		<script> 
		$.get('components/editorial-managed/panels.html')
		 .success(function(data) {
		     $('#ditboc_mypanels').html(data);
		 });
		 </script>

		<div id="ditboc_mycontent">mycontent</div>
		<script> 
		$.get('components/editorial-managed/content.html')
		 .success(function(data) {
		     $('#ditboc_mycontent').html(data);
		 });
		 alert("1");
		 </script>


<div id="hr">
<script id="hr-template" type="text/x-handlebars-template">
<div id="content.html">
	<div class="container">
		<div class="text">
		<h1>xxx DITBOC - Designing in the browser of course, {{cells.ID}}</h1>
		<p class="lead">
			Use this document as a way to quickly start any new project.<br>
			All you get is this text and a mostly barebones HTML document.
		</p>
		</div>
	</div>
</div>
</script>
</div>



  <script>
  // Compile the Handlebars template for HR leaders.
var HRTemplate = Handlebars.compile($('#hr-template').html());

// Load top five HR leaders.
$('#hr').sheetrock({
  url: mySpreadsheet,
  sql: "SELECT %ID%, %Title%, %Description% WHERE %ID%=" + getUrlParameter("id") + " ORDER BY %ID% ASC",
  chunkSize: 5,
  headersOff: true,
  rowHandler: HRTemplate
});
</script>



	</body>
</html>

<!--
Overblik over brugerrettigheder til hver enkelt website vil vi løse ved, at udvide Additions Site Manager, som i dag benyttes til at håndtere publicering og afpublicering af websites, så der også bliver mulighed for at se hvilke brugere, der har hvilke rolle-medlemskaber på websitet. Dette vil give administratorer det fornødne overblik til eventuelt at ændre på hvem der har hvilke rolle medlemsskaber.
-->


<!--
var parse = function(data)
{
    var column_length = data.table.cols.length;
    if (!column_length || !data.table.rows.length)
    {
        return false;
    }
    var columns = [],
        result = [],
        row_length,
        value;
    for (var column_idx in data.table.cols)
    {
        columns.push(data.table.cols[column_idx].label);
    }
    for (var rows_idx in data.table.rows)
    {
        row_length = data.table.rows[rows_idx]['c'].length;
        if (column_length != row_length)
        {
            // Houston, we have a problem!
            return false;
        }
        for (var row_idx in data.table.rows[rows_idx]['c'])
        {
            if (!result[rows_idx])
            {
                result[rows_idx] = {};
            }
            value = !!data.table.rows[rows_idx]['c'][row_idx].v ? data.table.rows[rows_idx]['c'][row_idx].v : null;
            result[rows_idx][columns[row_idx]] = value;
        }
    }
    return result;
};


var query = function(sql, callback)
{
    var url = 'http://spreadsheets.google.com/a/google.com/tq?',
        params = {
            key: 'YOUR_KEY_HERE',
            tq: encodeURIComponent(sql),
            tqx: 'responseHandler:' + callback
        },
        qs = [];
    for (var key in params)
    {
        qs.push(key + '=' + params[key]);
    }
    url += qs.join('&');
    return jsonp(url); // Call JSONP helper function
}

var my_callback = function(data)
{
    data = parse(data); // Call data parser helper function

    // Do whatever you want with the data.

}

query('select * where a = "hello" and b = "world" limit 20', 'my_callback');



-->